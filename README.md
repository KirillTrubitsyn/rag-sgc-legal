# RAG SGC Legal

–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –°–ì–ö (–°–∏–±–∏—Ä—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è).

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Next.js 15 + React 19 + TypeScript
- xAI Grok 4.1 Fast + Collections (hybrid search)
- Vercel AI SDK (streaming)
- Tailwind CSS

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env`:

```env
XAI_API_KEY=your_xai_api_key_here
COLLECTION_ID=your_collection_id_here
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- `XAI_API_KEY` ‚Äî –ø–æ–ª—É—á–∏ –Ω–∞ [console.x.ai](https://console.x.ai)
- `COLLECTION_ID` ‚Äî ID —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ xAI Collections

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π [http://localhost:3000](http://localhost:3000) –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rag-sgc-legal/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts          # Streaming API endpoint
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chat/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ChatInterface.tsx  # –ì–ª–∞–≤–Ω—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                 # Root layout
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ globals.css                # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ xai-client.ts              # xAI –∫–ª–∏–µ–Ω—Ç + Grok –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts                   # –£—Ç–∏–ª–∏—Ç—ã (cn)
‚îî‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîç –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∏ –∫–ª—é—á–µ–≤–æ–π –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å xAI Collections API
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –æ—Ü–µ–Ω–∫–æ–π score

### üí¨ Streaming —á–∞—Ç
- –û—Ç–≤–µ—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI SDK
- –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è (maxSteps: 5)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)
- Tailwind CSS —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- Empty state –∏ loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞

## API Endpoints

### POST /api/chat

Streaming endpoint –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

**Request:**
```json
{
  "messages": [
    {
      "role": "user",
      "content": "–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞?"
    }
  ]
}
```

**Response:**
- Streaming –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ AI SDK
- Tool invocations —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (source, page, score)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ó–∞–ø—É—Å–∫ production
npm start

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|------------|----------|--------------|
| `XAI_API_KEY` | API –∫–ª—é—á xAI | ‚úÖ |
| `COLLECTION_ID` | ID –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | ‚úÖ |

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
